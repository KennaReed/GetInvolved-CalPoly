"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("file-selector");function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}exports.useFilePicker=function(i){var r=i.accept,o=void 0===r?"*":r,a=i.multiple,c=void 0===a||a,u=i.minFileSize,l=i.maxFileSize,f=e.useState([]),s=f[0],v=f[1],m=e.useState([]),d=m[0],p=m[1],S=e.useState([]),h=S[0],y=S[1],g=e.useState(!1),z=g[0],E=g[1];return e.useEffect((function(){if(0!==s.length){E(!0);var e=s.map((function(e){return new Promise((function(n,i){var r=new FileReader;r.readAsText(e),r.onload=function(){u&&e.size<1e6*u&&o({fileSizeTooSmall:!0}),l&&o({fileSizeToolarge:!0}),n({content:r.result,name:e.name,lastModified:e.lastModified})};var o=function(n){var r=n.name,o=void 0===r?e.name:r,a=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n.indexOf(t=o[i])>=0||(r[t]=e[t]);return r}(n,["name"]);i(t({name:o,fileSizeToolarge:!1,fileSizeTooSmall:!1},a))}}))}));Promise.all(e).then((function(e){p(e),y([])})).catch((function(e){y((function(n){return[e].concat(n)}))})).finally((function(){return E(!1)}))}else p([])}),[s]),[d,h,function(){!function(e,t,i){var r=document.createElement("input");r.type="file",r.accept=e,r.multiple=t,r.addEventListener("change",(function(e){n.fromEvent(e).then((function(e){v(e)}))})),r.dispatchEvent(new MouseEvent("click"))}(o instanceof Array?o.join(","):o,c)},z]};
//# sourceMappingURL=use-file-picker.cjs.production.min.js.map
